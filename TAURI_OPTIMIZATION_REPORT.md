# Taurié¡¹ç›®ä¼˜åŒ–æŠ¥å‘Š

## ğŸ“‹ ä¼˜åŒ–æ¦‚è¿°

æœ¬æŠ¥å‘Šæ€»ç»“äº†ä»Electronè¿ç§»åˆ°Tauriè¿‡ç¨‹ä¸­çš„ä»£ç è§„èŒƒåŒ–å’Œæ€§èƒ½ä¼˜åŒ–å·¥ä½œã€‚é¡¹ç›®ç°å·²å®Œå…¨ç¬¦åˆTauriå¼€å‘æœ€ä½³å®è·µã€‚

## ğŸ”§ ä¸»è¦ä¼˜åŒ–å†…å®¹

### 1. Vueç»„ä»¶ç°ä»£åŒ– âœ…

#### è¯­æ³•ç»Ÿä¸€
- **æ—§æ–¹å¼**: æ··ç”¨Options APIå’ŒComposition API
- **æ–°æ–¹å¼**: ç»Ÿä¸€ä½¿ç”¨`<script setup>`è¯­æ³•
- **ä¼˜åŒ–æ–‡ä»¶**:
  - `CarButton.vue` - æ·»åŠ äº†ElMessageåé¦ˆå’Œæ›´å¥½çš„æ–¹æ³•å‘½å
  - `AutoDrive.vue` - å®Œæ•´çš„å“åº”å¼æ•°æ®å’Œäº‹ä»¶å¤„ç†
  - `Map.vue` - ç®€åŒ–ä¸ºsetupè¯­æ³•
  - `CarCamera.vue` - å·²ä½¿ç”¨ç°ä»£è¯­æ³•

#### æ”¹è¿›æ•ˆæœ
```javascript
// ä¼˜åŒ–å‰
export default {
    name: 'CarButton',
    methods: {
        startCar() { console.log('start car'); }
    }
}

// ä¼˜åŒ–å
<script setup>
import { ElMessage } from 'element-plus';
const startCar = () => {
    console.log('å¯åŠ¨è½¦è¾†');
    ElMessage.success('è½¦è¾†å·²å¯åŠ¨');
};
</script>
```

### 2. Three.jsæ€§èƒ½ä¼˜åŒ– âœ…

#### æ™ºèƒ½æ¸²æŸ“å¾ªç¯
- **æ–°å¢**: å¸§ç‡æ§åˆ¶å’ŒåŠ¨æ€é™é¢‘
- **æ–°å¢**: åœºæ™¯ç»„ç»‡ç»“æ„(SceneGroup, LightsGroup, ModelsGroup)
- **æ”¹è¿›**: æ›´æ™ºèƒ½çš„æ€§èƒ½è‡ªé€‚åº”ç®—æ³•
- **ä¼˜åŒ–**: ä½¿ç”¨`requestAnimationFrame`æ›¿ä»£`setAnimationLoop`

#### å†…å­˜ç®¡ç†ä¼˜åŒ–
```javascript
// æ”¹è¿›çš„åŠ¨ç”»å¾ªç¯
animate = (currentTime) => {
    if (!isVisible || !shouldRender) return;
    
    // å¸§ç‡æ§åˆ¶
    if (currentTime - lastRenderTime < frameInterval) {
        rafId = requestAnimationFrame(animate);
        return;
    }
    
    // æ™ºèƒ½æ›´æ–°å’Œæ¸²æŸ“...
};
```

#### æ¨¡å‹ç»„ç»‡
- **æ–°å¢**: åˆ†å±‚åœºæ™¯ç»“æ„
- **ä¼˜åŒ–**: æè´¨å’Œçº¹ç†æ‰¹å¤„ç†
- **æ”¹è¿›**: æ¨¡å‹LODç³»ç»Ÿ(å¯é€‰)

### 3. Taurié›†æˆä¼˜åŒ– âœ…

#### APIä½¿ç”¨æ ‡å‡†åŒ–
- **æ–°å¢**: `TauriUtils.safeInvoke()` ç»Ÿä¸€é”™è¯¯å¤„ç†
- **ä¼˜åŒ–**: ç¯å¢ƒæ£€æµ‹å’Œå›é€€æœºåˆ¶
- **æ–°å¢**: ç³»ç»Ÿé€šçŸ¥æ”¯æŒ

#### é…ç½®æ–‡ä»¶ä¼˜åŒ–
```json
// tauri.conf.json æ”¹è¿›
{
  "app": {
    "security": {
      "csp": "default-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: blob:; script-src 'self' 'unsafe-eval'; connect-src 'self' ws: wss: https:;"
    }
  }
}
```

#### Rustä¾èµ–ä¼˜åŒ–
```toml
[dependencies]
tauri = { version = "2", features = ["macos-private-api"] }
tauri-plugin-opener = "2"
tauri-plugin-notification = "2"
```

### 4. æ„å»ºé…ç½®ä¼˜åŒ– âœ…

#### Viteé…ç½®æ”¹è¿›
- **æ–°å¢**: æ™ºèƒ½ä»£ç åˆ†å—ç­–ç•¥
- **ä¼˜åŒ–**: Three.jsä¸“ç”¨ä¼˜åŒ–
- **æ”¹è¿›**: ä¾èµ–é¢„æ„å»ºé…ç½®

#### ä»£ç åˆ†å—ç­–ç•¥
```javascript
manualChunks: {
  'vue-vendor': ['vue', 'vue-router', 'pinia'],
  'three-core': ['three'],
  'three-addons': ['three/examples/jsm/Addons.js'],
  'tauri': ['@tauri-apps/api', '@tauri-apps/plugin-opener']
}
```

### 5. å·¥å…·ç±»åˆ›å»º âœ…

#### é…ç½®ç®¡ç†
- **æ–°å»º**: `src/config/app.js` - ç»Ÿä¸€é…ç½®ç®¡ç†
- **åŒ…å«**: åº”ç”¨é…ç½®ã€æ€§èƒ½é…ç½®ã€UIé…ç½®ã€ç½‘ç»œé…ç½®

#### æ—¥å¿—ç³»ç»Ÿ
- **æ–°å»º**: `src/utils/logger.js` - ç»Ÿä¸€æ—¥å¿—å·¥å…·
- **åŠŸèƒ½**: åˆ†çº§æ—¥å¿—ã€ç¼“å†²åŒºç®¡ç†ã€æ ¼å¼åŒ–è¾“å‡º
- **ç‰¹æ€§**: Tauriç¯å¢ƒé€‚é…

#### é”™è¯¯å¤„ç†
- **ä¼˜åŒ–**: `src/utils/errorHandler.js` - æ›´å¥½çš„é”™è¯¯åˆ†ç±»
- **æ”¹è¿›**: Taurié€šçŸ¥é›†æˆ

## ğŸš€ æ€§èƒ½æå‡æ•ˆæœ

### æ¸²æŸ“æ€§èƒ½
- **å¸§ç‡æ§åˆ¶**: è‡ªåŠ¨é€‚é…è®¾å¤‡æ€§èƒ½
- **å†…å­˜ç®¡ç†**: æ™ºèƒ½æ¸…ç†å’Œç¼“å­˜ç­–ç•¥
- **åœºæ™¯ç»„ç»‡**: æ›´é«˜æ•ˆçš„æ¸²æŸ“æµæ°´çº¿

### åŒ…ä½“ç§¯ä¼˜åŒ–
- **ä»£ç åˆ†å—**: æŒ‰éœ€åŠ è½½ï¼Œé¦–å±åŠ è½½æ—¶é—´å‡å°‘
- **Three.js**: åˆ†ç¦»æ ¸å¿ƒå’Œæ‰©å±•æ¨¡å—
- **ä¾èµ–ä¼˜åŒ–**: ç²¾ç¡®çš„é¢„æ„å»ºé…ç½®

### å¼€å‘ä½“éªŒ
- **ç±»å‹å®‰å…¨**: æ›´å¥½çš„é”™è¯¯æç¤º
- **æ—¥å¿—ç³»ç»Ÿ**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- **é…ç½®ç®¡ç†**: ä¸­å¿ƒåŒ–é…ç½®æ–‡ä»¶

## ğŸ“ æ–‡ä»¶ç»“æ„ä¼˜åŒ–

### ä¼˜åŒ–åçš„é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ app.js              # ç»Ÿä¸€é…ç½®ç®¡ç†
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ logger.js           # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ errorHandler.js     # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ tauri.js           # Tauriå·¥å…·ç±»
â”‚   â””â”€â”€ performanceMonitor.js # æ€§èƒ½ç›‘æ§
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Scene3D/
â”‚   â”‚   â”œâ”€â”€ index.js       # Three.jsé€»è¾‘
â”‚   â”‚   â””â”€â”€ index.vue      # Vueç»„ä»¶
â”‚   â””â”€â”€ *.vue              # ç»Ÿä¸€ä½¿ç”¨setupè¯­æ³•
â”œâ”€â”€ views/
â”‚   â””â”€â”€ *.vue              # ç°ä»£åŒ–Vueç»„ä»¶
â””â”€â”€ stores/
    â””â”€â”€ car.js             # PiniaçŠ¶æ€ç®¡ç†
```

## ğŸ›¡ï¸ ä»£ç è´¨é‡æå‡

### å‘½åè§„èŒƒ
- **ç»„ä»¶**: ç»Ÿä¸€ä½¿ç”¨PascalCase
- **æ–¹æ³•**: ä½¿ç”¨camelCase + åŠ¨è¯å‰ç¼€
- **å¸¸é‡**: ä½¿ç”¨UPPER_SNAKE_CASE
- **æ–‡ä»¶**: éµå¾ªVueå®˜æ–¹æ¨è

### é”™è¯¯å¤„ç†
- **ç»Ÿä¸€**: æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æœ‰é”™è¯¯å¤„ç†
- **ç”¨æˆ·å‹å¥½**: ä½¿ç”¨ElMessageæä¾›ç”¨æˆ·åé¦ˆ
- **æ—¥å¿—è®°å½•**: ç»“æ„åŒ–é”™è¯¯æ—¥å¿—

### æ€§èƒ½ç›‘æ§
- **å¼€å‘ç¯å¢ƒ**: è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡æ˜¾ç¤º
- **ç”Ÿäº§ç¯å¢ƒ**: ç®€åŒ–çš„é”™è¯¯æŠ¥å‘Š
- **å†…å­˜ç›‘æ§**: å®æ—¶å†…å­˜ä½¿ç”¨æƒ…å†µ

## ğŸ“Š å…¼å®¹æ€§ä¿è¯

### æµè§ˆå™¨å›é€€
- **Tauri API**: åœ¨éTauriç¯å¢ƒä¸­ä¼˜é›…é™çº§
- **é€šçŸ¥**: è‡ªåŠ¨å›é€€åˆ°æµè§ˆå™¨é€šçŸ¥
- **å­˜å‚¨**: localStorageä½œä¸ºåå¤‡æ–¹æ¡ˆ

### è·¨å¹³å°æ”¯æŒ
- **macOS**: å®Œæ•´åŠŸèƒ½æ”¯æŒ
- **Windows**: å®Œæ•´åŠŸèƒ½æ”¯æŒ
- **Linux**: å®Œæ•´åŠŸèƒ½æ”¯æŒ

## ğŸ¯ åç»­å»ºè®®

### çŸ­æœŸä¼˜åŒ– (1-2å‘¨)
1. **æ·»åŠ å•å…ƒæµ‹è¯•**: ä½¿ç”¨Vitestä¸ºæ ¸å¿ƒå·¥å…·ç±»æ·»åŠ æµ‹è¯•
2. **å›½é™…åŒ–æ”¯æŒ**: ä½¿ç”¨vue-i18næ·»åŠ å¤šè¯­è¨€æ”¯æŒ
3. **ä¸»é¢˜ç³»ç»Ÿ**: å¯é…ç½®çš„æš—è‰²/äº®è‰²ä¸»é¢˜

### ä¸­æœŸä¼˜åŒ– (1-2æœˆ)
1. **æ•°æ®æŒä¹…åŒ–**: ä½¿ç”¨Tauriçš„æ–‡ä»¶ç³»ç»ŸAPI
2. **è‡ªåŠ¨æ›´æ–°**: é›†æˆTauriçš„æ›´æ–°æœºåˆ¶
3. **æ’ä»¶ç³»ç»Ÿ**: æ¨¡å—åŒ–åŠŸèƒ½æ‰©å±•

### é•¿æœŸè§„åˆ’ (3-6æœˆ)
1. **å¾®å‰ç«¯æ¶æ„**: æ”¯æŒæ’ä»¶å¼åŠŸèƒ½æ¨¡å—
2. **äº‘ç«¯åŒæ­¥**: æ•°æ®äº‘ç«¯å¤‡ä»½å’ŒåŒæ­¥
3. **AIé›†æˆ**: æ™ºèƒ½è½¦è¾†ç®¡ç†å»ºè®®

## âœ… éªŒæ”¶æ ‡å‡†

æ‰€æœ‰ä¼˜åŒ–å‡å·²å®Œæˆå¹¶é€šè¿‡ä»¥ä¸‹éªŒæ”¶:

- [x] Vueç»„ä»¶å…¨éƒ¨ä½¿ç”¨ç°ä»£è¯­æ³•
- [x] Three.jsæ€§èƒ½ä¼˜åŒ–å®Œæˆ
- [x] Tauri APIæ­£ç¡®é›†æˆ
- [x] æ„å»ºé…ç½®ä¼˜åŒ–
- [x] å·¥å…·ç±»åˆ›å»ºå®Œæˆ
- [x] æ— lintingé”™è¯¯
- [x] ä»£ç è§„èŒƒç»Ÿä¸€
- [x] é”™è¯¯å¤„ç†å®Œå–„

## ğŸ‰ æ€»ç»“

é¡¹ç›®å·²å®Œå…¨é€‚é…Tauriç¯å¢ƒï¼Œä»£ç è´¨é‡å’Œæ€§èƒ½å‡å¾—åˆ°æ˜¾è‘—æå‡ã€‚æ‰€æœ‰ç»„ä»¶éƒ½éµå¾ªç°ä»£Vueå¼€å‘è§„èŒƒï¼ŒThree.jsæ¸²æŸ“æ€§èƒ½ä¼˜åŒ–ï¼Œå·¥å…·ç±»å®Œå–„ï¼Œä¸ºåç»­åŠŸèƒ½å¼€å‘å¥ å®šäº†åšå®åŸºç¡€ã€‚

**ä¸»è¦æ”¶ç›Š:**
- ğŸš€ æ€§èƒ½æå‡: æ›´æµç•…çš„3Dæ¸²æŸ“å’Œæ›´å¿«çš„åº”ç”¨å¯åŠ¨
- ğŸ”§ å¼€å‘ä½“éªŒ: ç°ä»£åŒ–çš„ä»£ç ç»“æ„å’Œå·¥å…·é“¾
- ğŸ›¡ï¸ ç¨³å®šæ€§: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—ç³»ç»Ÿ
- ğŸ“ˆ å¯ç»´æŠ¤æ€§: æ¸…æ™°çš„ä»£ç ç»„ç»‡å’Œç»Ÿä¸€çš„è§„èŒƒ
